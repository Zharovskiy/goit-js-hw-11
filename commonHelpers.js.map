{"version":3,"file":"commonHelpers.js","sources":["../src/img/dang.svg","../src/img/err.svg","../src/img/x.svg","../src/js/main.js"],"sourcesContent":["export default \"__VITE_ASSET__da6a1a3c__\"","export default \"__VITE_ASSET__33588f56__\"","export default \"__VITE_ASSET__6cc9f946__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport dangIcon from '../img/dang.svg';\nimport errorIcon from '../img/err.svg';\nimport xIcon from '../img/x.svg';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {captionDelay: 250, captionsData: 'alt'});\n\nconst form = document.querySelector(\".form\");\nconst imageList = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    imageList.innerHTML = '<span class=\"loader\"></span>';\n    fetchImage(event)\n    .then((images) => renderImage(images))\n    .catch((error) => onRejected(error));\n    form.reset();\n});\n\nfunction fetchImage({target: {keyword: {value}}}) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api';\n  const PARAMS = new URLSearchParams({\n    key: '42096263-920755fbf423cd5814494514c',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  });\n\n  return fetch(`${BASE_URL}${END_POINT}?${PARAMS}`)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n  );\n}\n\nfunction renderImage({totalHits, hits}) {\n  if (parseInt(totalHits) > 0) {\n    const markup = hits.map(createElementGallery);\n    imageList.innerHTML = '';\n    imageList.append(...markup);\n    lightbox.refresh();\n  }else{\n    imageList.innerHTML = '';\n    onWarning();\n  }    \n}\n\nfunction onWarning() {\n  iziToast.warning({\n    title: 'Sorry,',\n    titleColor: '#FFFFFF',\n    message: 'there are no images matching your search query. Please try again!',\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    backgroundColor: '#FFA000',\n    iconUrl: dangIcon,\n    position: 'center',\n    close: false,\n    buttons: [\n      [\n        `<button type=\"button\" style=\"\n          background-color: #FFA000; \n          width: 20px; \n          height: 20px; \n          padding: 5px\">\n            <img style=\"\n              width: 10px; \n              height: 10px\" \n              src=${xIcon}>\n        </button>`,\n        function (instance, toast) {\n          instance.hide({ transitionOut: 'fadeOut' }, toast);\n        },\n      ],\n    ]\n  });\n}\n\nfunction onRejected(error) {\n  iziToast.show({\n    title: 'Error',\n    titleColor: '#FFFFFF',\n    message: `${error}`,\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    backgroundColor: '#EF4040',\n    iconUrl: errorIcon,\n    position: 'topRight',\n    close: false,\n    buttons: [\n      [\n        `<button type=\"button\" style=\"\n          background-color: #EF4040; \n          width: 20px; \n          height: 20px; \n          padding: 5px\">\n            <img style=\"\n              width: 10px; \n              height: 10px\" \n                src=${xIcon}>\n        </button>`,\n        function (instance, toast) {\n          instance.hide({ transitionOut: 'fadeOut' }, toast);\n        },\n      ],\n    ]\n  });\n};\n\n\nfunction createElementGallery({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    const ul = document.createElement('ul');\n    ul.classList.add('card');\n  \n        const link = document.createElement('a');\n        link.classList.add('gallery-link');\n        link.setAttribute('href', largeImageURL);\n    \n            const img = document.createElement('img');\n            img.classList.add('gallery-image');\n            img.setAttribute('src', webformatURL);\n            img.setAttribute('alt', tags);\n\n        const ulElem = document.createElement('ul');\n        ulElem.classList.add('item-img');\n\n            const liLikes = document.createElement('li');\n            liLikes.classList.add('elem-img');\n    \n                const pLikes = document.createElement('p');\n                pLikes.classList.add('elem-name');\n                pLikes.textContent = 'Likes';\n                const pLikesValue = document.createElement('p');\n                pLikesValue.textContent = likes;\n\n            const liViews = document.createElement('li');\n            liViews.classList.add('elem-img');\n    \n                const pViews = document.createElement('p');\n                pViews.classList.add('elem-name');\n                pViews.textContent = 'Views';\n                const pViewsValue = document.createElement('p');\n                pViewsValue.textContent = views;\n\n            const liComments = document.createElement('li');\n            liComments.classList.add('elem-img');\n    \n                const pComments = document.createElement('p');\n                pComments.classList.add('elem-name');\n                pComments.textContent = 'Comments';\n                const pCommentsValue = document.createElement('p');\n                pCommentsValue.textContent = comments;  \n\n            const liDownloads = document.createElement('li');\n            liDownloads.classList.add('elem-img');\n    \n                const pDownloads = document.createElement('p');\n                pDownloads.classList.add('elem-name');\n                pDownloads.textContent = 'Downloads';\n                const pDownloadsValue = document.createElement('p');\n                pDownloadsValue.textContent = downloads;    \n\n\n        liDownloads.append(pDownloads, pDownloadsValue);\n        liComments.append(pComments, pCommentsValue);\n        liViews.append(pViews, pViewsValue);       \n        liLikes.append(pLikes, pLikesValue);        \n      ulElem.append(liLikes, liViews, liComments, liDownloads);         \n      link.append(img);          \n    ul.append(link, ulElem);\n    return ul\n}\n\n"],"names":["dangIcon","errorIcon","xIcon","lightbox","SimpleLightbox","form","imageList","event","fetchImage","images","renderImage","error","onRejected","value","BASE_URL","END_POINT","PARAMS","response","totalHits","hits","markup","createElementGallery","onWarning","iziToast","instance","toast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","ul","link","img","ulElem","liLikes","pLikes","pLikesValue","liViews","pViews","pViewsValue","liComments","pComments","pCommentsValue","liDownloads","pDownloads","pDownloadsValue"],"mappings":"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"}